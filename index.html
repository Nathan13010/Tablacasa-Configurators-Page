<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Configurateurs 3D Tablacasa</title>
    <style>
        /* Styles de base */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: auto;
        }

        .category {
            margin-bottom: 40px;
        }

        .category h2 {
            border-bottom: 2px solid #ccc;
            padding-bottom: 10px;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .product-card {
            background: #fff;
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
            cursor: pointer;
        }

        .product-card img {
            max-width: 100%;
            height: auto;
        }

        .configurator {
            margin-top: 40px;
            position: relative;
            /* Pour positionner le bouton par rapport à cette zone */
        }

        iframe {
            border: 1px solid #929292;
            background-color: white;
            width: 100%;
            height: 500px;
            /* Hauteur par défaut */
        }

        /* Bouton plein écran */
        #fullscreenBtn {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10000;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            border: none;
            font-size: 24px;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Configurateurs 3D Tablacasa</h1>

        <!-- Section Chaises -->
        <div class="category" id="chaises">
            <h2>Chaises</h2>
            <div class="product-grid">
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Adeline - API/Tablacasa-Chaise-Adeline.html">
                    <img src="/media/Adeline_Chair.jpg" alt="Adeline">
                    <p>Adeline</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Alice - API/Tablacasa-Chaise-Alice.html">
                    <img src="/media/Alice_Chair.jpg" alt="Alice">
                    <p>Alice</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Buna - API/Tablacasa-Chaise-Buna.html">
                    <img src="/media/Buna_Chair.jpg" alt="Buna">
                    <p>Buna</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Calisson - API/Tablacasa-Chaise-Calisson.html">
                    <img src="/media/Calisson_chair.jpg" alt="Calisson">
                    <p>Calisson</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Carly - API/Tablacasa-Chaise-Carly.html">
                    <img src="/media/Carly_Chair.jpg" alt="Carly">
                    <p>Carly</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Fast - API/Tablacasa-Chaise-Fast.html">
                    <img src="/media/Fast_chair.jpg" alt="Fast">
                    <p>Fast</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Fugace - API/Tablacasa-Chaise-Fugace.html">
                    <img src="/media/fugace_chair.jpg" alt="Fugace">
                    <p>Fugace</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Furtif - API/Tablacasa-Chaise-Furtif.html">
                    <img src="/media/Furtif_Chair.jpg" alt="Furtif">
                    <p>Furtif</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Hello - API/Tablacasa-Chaise-Hello.html">
                    <img src="/media/Hello_Chair.jpg" alt="Hello">
                    <p>Hello</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Hola - API/Tablacasa-Chaise-Hola.html">
                    <img src="/media/Hola_chair.jpg" alt="Hola">
                    <p>Hola</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Linky%20-%20API/Tablacasa-Chaise-Linky.html">
                    <img src="/media/Linky_Chair.jpg" alt="Linky">
                    <p>Linky</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Lutece%20-%20API/Tablacasa-Chaise-Lutece.html">
                    <img src="/media/Lutece_Chair.jpg" alt="Lutece">
                    <p>Lutece</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Melody%20-%20API/Tablacasa-Chaise-Melody.html">
                    <img src="/media/Melody_Chair.jpg" alt="Melody">
                    <p>Melody</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Paris%20-%20API/Tablacasa-Chaise-Paris.html">
                    <img src="/media/Paris_Chair.jpg" alt="Paris">
                    <p>Paris</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Perla%20-%20API/Tablacasa-Chaise-Perla.html">
                    <img src="/media/Perla_Chair.jpg" alt="Perla">
                    <p>Perla</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Tampico%20-%20API/Tablacasa-Chaise-Tampico.html">
                    <img src="/media/Tampico_Chair.jpg" alt="Tampico">
                    <p>Tampico</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Chaise-Twist%20-%20API/Tablacasa-Chaise-Twist.html">
                    <img src="/media/Twist_Chair.jpg" alt="Twist">
                    <p>Twist</p>
                </div>
            </div>
        </div>

        <!-- Section Fauteils -->
        <div class="category" id="fauteils">
            <h2>Fauteils</h2>
            <div class="product-grid">
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Fauteil-Coco%20-%20API/Tablacasa-Chaise-Coco.html">
                    <img src="/media/Coco_Chair.jpg" alt="Coco">
                    <p>Coco</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Fauteil-Mistral%20-%20API/Tablacasa-Chaise-Mistral.html">
                    <img src="/media/Mistral_Chair.png" alt="Mistral">
                    <p>Mistral</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Fauteil-Sirocco%20-%20API/Tablacasa-Chaise-Sirocco.html">
                    <img src="/media/Sirocco_Chair.png" alt="Sirocco">
                    <p>Sirocco</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Fauteil-Zephyr%20-%20API/Tablacasa-Chaise-Zephyr.html">
                    <img src="/media/Zephyr_Chair.jpg" alt="Zéphyr">
                    <p>Zéphyr</p>
                </div>
            </div>
        </div>

        <!-- Section Tabouret de bar -->
        <div class="category" id="tabourets">
            <h2>Tabouret de bar</h2>
            <div class="product-grid">
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Tabouret-Fugace%20-%20API/Tablacasa-Tabouret-Fugace.html">
                    <img src="/media/Fugace_bar.jpg" alt="Fugace">
                    <p>Fugace</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Tabouret-Furtif%20-%20API/Tablacasa-Tabouret-Furtif.html">
                    <img src="/media/Furtif_bar.jpg" alt="Furtif">
                    <p>Furtif</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Tabouret-Hello%20-%20API/Tablacasa-Tabouret-Hello.html">
                    <img src="/media/Hello_bar.jpg" alt="Hello">
                    <p>Hello</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Tablacasa-Tabouret-Hola%20-%20API/Tablacasa-Tabouret-Hola.html">
                    <img src="/media/Hola_bar.jpg" alt="Hola">
                    <p>Hola</p>
                </div>
            </div>
        </div>

        <!-- Section Concept Table -->
        <div class="category" id="concepts">
            <h2>Concept Table</h2>
            <div class="product-grid">
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Concept%20Table%201%20-%20API/Concept%20Table%201.html">
                    <img src="/media/concept_table_1.png" alt="Concept Table 1">
                    <p>Concept Table 1</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Concept%20Table%202%20-%20API/Concept%20Table%202.html">
                    <img src="/media/concept_table_2.png" alt="Concept Table 2">
                    <p>Concept Table 2</p>
                </div>
                <div class="product-card"
                    data-link="https://cdn.soft8soft.com/AROAJSY2GOEHMOFUVPIOE:e577ee4a7d/Concept%20Table%20Basse%20-%20API/Concept%20Table%20Basse.html">
                    <img src="/media/concept_table_basse.png" alt="Concept Table Basse">
                    <p>Concept Table Basse</p>
                </div>
            </div>
        </div>

        <div class="configurator" id="configuratorSection" style="display:none;">
            <h2>Visualisation du configurateur</h2>
            <!-- Bouton plein écran / sortie -->
            <button id="fullscreenBtn">⛶</button>
            <iframe id="configuratorFrame" src=""></iframe>
        </div>
    </div>


    <script>
        // Récupération des éléments du DOM
        const productCards = document.querySelectorAll('.product-card');
        const configuratorSection = document.getElementById('configuratorSection');
        const configuratorFrame = document.getElementById('configuratorFrame');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const configuratorTitle = document.querySelector('#configuratorSection h2');

        // Récupérer les paramètres passés à la page (ex: ?coef=2.5, ?hideprice, etc.)
        const pageQuery = window.location.search;

        // Lorsqu'un produit est cliqué, on construit l'URL finale en y ajoutant les paramètres de la page
        productCards.forEach(card => {
            card.addEventListener('click', () => {
                const baseLink = card.getAttribute('data-link');
                let finalUrl = baseLink;
                if (pageQuery) {
                    finalUrl += pageQuery;
                }
                // Afficher la section configurateur et charger l'URL dans l'iframe
                configuratorSection.style.display = 'block';
                configuratorFrame.src = finalUrl;
                configuratorSection.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Gestion du mode plein écran via le Fullscreen API
        fullscreenBtn.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                // Passer en mode plein écran pour la section configurateur
                configuratorSection.requestFullscreen().catch(err => {
                    console.error("Erreur lors de la demande du plein écran: ", err);
                });
            } else {
                document.exitFullscreen();
            }
        });

        // Changement du texte du bouton, des dimensions de l'iframe et affichage du titre selon l'état plein écran
        document.addEventListener('fullscreenchange', () => {
            if (document.fullscreenElement) {
                fullscreenBtn.textContent = "×"; // Affiche une croix pour quitter
                configuratorTitle.style.display = 'none'; // Masquer le titre
                // Redimensionner l'iframe en mode plein écran
                configuratorFrame.style.width = "100%";
                configuratorFrame.style.height = "100%";
            } else {
                fullscreenBtn.textContent = "⛶"; // Affiche l'icône plein écran
                configuratorTitle.style.display = 'block'; // Réafficher le titre
                // Revenir aux dimensions par défaut
                configuratorFrame.style.width = "100%";
                configuratorFrame.style.height = "500px";
            }
        });
    </script>

</body>

</html>